{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:8080/posts/\";\nexport const sendPost = async post => {\n  try {\n    const formData = new FormData();\n    formData.append('goal_id', post.goal_id.toString());\n    formData.append('user_id', post.user_id.toString());\n    formData.append('message_text', post.message_text);\n    if (post.photo) {\n      formData.append('photo', post.photo);\n    }\n    console.log(\"Axios Post\");\n    console.log(formData);\n    await axios.post(API_URL, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      withCredentials: true // Important for sending cookies (session management)\n    });\n    console.log(\"Message sent successfully!\");\n  } catch (error) {\n    console.error(\"Error sending message:\", error);\n  }\n};","map":{"version":3,"names":["axios","API_URL","sendPost","post","formData","FormData","append","goal_id","toString","user_id","message_text","photo","console","log","headers","withCredentials","error"],"sources":["C:/Users/htham/Documents/Revature/InfoSysTraining/project_2_trackr/revProj2/frontend/revproj2/src/API/Axios.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:8080/posts/\";\r\n\r\nexport interface Post {\r\n    goal_id:number;\r\n    user_id:number;\r\n    message_text:string;\r\n    photo:File|undefined;\r\n\r\n}\r\nexport const sendPost = async (post : Post) => {\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append('goal_id', post.goal_id.toString());\r\n        formData.append('user_id', post.user_id.toString());\r\n        formData.append('message_text', post.message_text);\r\n        \r\n        if (post.photo) {\r\n            formData.append('photo', post.photo);\r\n        }\r\n        \r\n        console.log(\"Axios Post\");\r\n        console.log(formData);\r\n        await axios.post(API_URL, formData, {\r\n            headers: { \"Content-Type\": \"multipart/form-data\" },\r\n            withCredentials: true  // Important for sending cookies (session management)\r\n        });\r\n        console.log(\"Message sent successfully!\");\r\n    } catch (error) {\r\n        console.error(\"Error sending message:\", error);\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,8BAA8B;AAS9C,OAAO,MAAMC,QAAQ,GAAG,MAAOC,IAAW,IAAK;EAC3C,IAAI;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEH,IAAI,CAACI,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC;IACnDJ,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEH,IAAI,CAACM,OAAO,CAACD,QAAQ,CAAC,CAAC,CAAC;IACnDJ,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAEH,IAAI,CAACO,YAAY,CAAC;IAElD,IAAIP,IAAI,CAACQ,KAAK,EAAE;MACZP,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,IAAI,CAACQ,KAAK,CAAC;IACxC;IAEAC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;IACzBD,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC;IACrB,MAAMJ,KAAK,CAACG,IAAI,CAACF,OAAO,EAAEG,QAAQ,EAAE;MAChCU,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB,CAAC;MAClDC,eAAe,EAAE,IAAI,CAAE;IAC3B,CAAC,CAAC;IACFH,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;EAC7C,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZJ,OAAO,CAACI,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;EAClD;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}